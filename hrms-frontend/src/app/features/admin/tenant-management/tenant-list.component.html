<div class="tenant-list-container">
  <div class="toolbar">
    <app-button variant="ghost" size="small" routerLink="/admin/dashboard">
      <app-icon name="arrow-left"></app-icon>
    </app-button>
    <span>Tenant Management</span>
    <span class="toolbar-spacer"></span>
    <app-button variant="primary" routerLink="/admin/tenants/new">
      <app-icon name="plus"></app-icon>
      Create Tenant
    </app-button>
  </div>

  <div class="content">
    <!-- Search Filter -->
    <app-input
      class="search-field"
      label="Search tenants"
      placeholder="Search by name, domain..."
      (input)="applyFilter($event)">
    </app-input>

    <!-- Table -->
    <div class="table-container">
      <app-table
        [columns]="tableColumns"
        [data]="filteredTenants()"
        [loading]="loading()"
        [hoverable]="true"
        [striped]="true">

        <!-- Status Column Template -->
        <ng-template appTableColumn="status" let-row>
          <app-chip [label]="row.status" [color]="getStatusColor(row.status)" />
        </ng-template>

        <!-- Actions Column Template -->
        <ng-template appTableColumn="actions" let-row>
          <app-button variant="ghost" size="small" #tenantMenuTrigger>
            <app-icon name="more-vertical"></app-icon>
          </app-button>
          <app-menu
            [trigger]="tenantMenuTrigger"
            [items]="getTenantMenuItems(row)"
            [position]="'bottom-left'"
            (itemClick)="handleTenantMenuClick($event, row)">
          </app-menu>
        </ng-template>
      </app-table>
    </div>
  </div>
</div>
