<div class="tenant-list-container">
  <mat-toolbar color="primary">
    <button mat-icon-button routerLink="/admin/dashboard">
      <app-icon name="arrow_back"></app-icon>
    </button>
    <span>Tenant Management</span>
    <span class="toolbar-spacer"></span>
    <button mat-raised-button routerLink="/admin/tenants/new">
      <app-icon name="add"></app-icon>
      Create Tenant
    </button>
  </mat-toolbar>

  <div class="content">
    <!-- Search Filter -->
    <mat-form-field appearance="outline" class="search-field">
      <mat-label>Search tenants</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Search by name, domain...">
      <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>

    <!-- Table -->
    <div class="table-container">
      <app-table
        [columns]="tableColumns"
        [data]="filteredTenants()"
        [loading]="loading()"
        [hoverable]="true"
        [striped]="true">

        <!-- Status Column Template -->
        <ng-template appTableColumn="status" let-row>
          <app-chip [label]="row.status" [color]="getStatusColor(row.status)" />
        </ng-template>

        <!-- Actions Column Template -->
        <ng-template appTableColumn="actions" let-row>
          <button mat-icon-button #tenantMenuTrigger>
            <mat-icon>more_vert</mat-icon>
          </button>
          <app-menu
            [trigger]="tenantMenuTrigger"
            [items]="getTenantMenuItems(row)"
            [position]="'bottom-left'"
            (itemClick)="handleTenantMenuClick($event, row)">
          </app-menu>
        </ng-template>
      </app-table>
    </div>
  </div>
</div>
