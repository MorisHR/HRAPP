<div class="subdomain-container">
  <div class="subdomain-card">
    <!-- Header -->
    <div class="header">
      <h1 class="title">Welcome to MorisHR</h1>
      <p class="subtitle">Enter your company's domain to continue</p>
    </div>

    <!-- Subdomain Input Form -->
    <div class="form-container">
      <div class="input-wrapper-custom">
        <app-input
          type="text"
          label="Company Domain"
          placeholder="yourcompany"
          [value]="subdomain()"
          (valueChange)="onSubdomainInput($event)"
          [disabled]="isLoading()"
          [required]="true"
          [error]="errorMessage()"
          id="subdomain">
        </app-input>
        <span class="domain-suffix">.morishr.com</span>
      </div>
      <p class="input-hint">
        Enter your company's unique domain name
      </p>

      <!-- Continue Button -->
      <app-button
        variant="primary"
        [disabled]="!isValidSubdomain() || isLoading()"
        [loading]="isLoading()"
        (click)="onContinue()">
        @if (isLoading()) {
          Verifying...
        } @else {
          Continue
        }
      </app-button>

      <!-- Help Link -->
      <div class="help-container">
        <app-button
          variant="ghost"
          (click)="openModal()">
          What's my domain?
        </app-button>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
@if (showModal()) {
  <div class="modal-overlay" (click)="closeModal()" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h2 id="modal-title" class="modal-title">What's my domain?</h2>
        <button
          type="button"
          class="modal-close"
          (click)="closeModal()"
          aria-label="Close dialog"
        >
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <p class="modal-text">
          Your company domain is the unique identifier for your organization on MorisHR.
        </p>
        <p class="modal-text">
          <strong>Examples:</strong>
        </p>
        <ul class="modal-list">
          <li>If your company is "Acme Corp", your domain might be: <strong>acme.morishr.com</strong></li>
          <li>If your company is "Smith & Associates", your domain might be: <strong>smith.morishr.com</strong></li>
          <li>If your company is "Tech Solutions", your domain might be: <strong>techsolutions.morishr.com</strong></li>
        </ul>
        <p class="modal-text">
          <strong>How to find your domain:</strong>
        </p>
        <ul class="modal-list">
          <li>Check the welcome email you received when your account was set up</li>
          <li>Contact your HR administrator or IT department</li>
          <li>Look at the address bar when you access MorisHR - it will show your domain</li>
        </ul>
        <p class="modal-text">
          If you're still having trouble, please contact your company's HR administrator for assistance.
        </p>
      </div>
      <div class="modal-footer">
        <app-button
          variant="primary"
          (click)="closeModal()">
          Got it
        </app-button>
      </div>
    </div>
  </div>
}
